{% extends "private.html" %}
{% block content %}
{% import "macros/forms.html" as forms %}
{% import "macros/headers.html" as headers %}
            	<div class="side-body padding-top">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="card">
                                
                                <div class="card-header">
									<div class=".col-xs-9 .col-md-7">
								    	<div class="card-title">
								        	<div class="title"><a href="{{base_path}}/products"><span class="icon fa fa-barcode"></span></a> {{product.name}}</div>
										</div>
								    </div>
								    {% if visibility.editbutton %}
								    	{{headers.edit_button()}}  
								    {% endif %}    
								</div>
								
                                <div class="card-body {{visibility.edit}}">
                                	<form action="{{base_path}}/products/edit/{{product.id}}" method="post">
	                                	<div class="form-group">
	                                
		                                    <div class="sub-title">Nimi</div>
		                                    <div>
		                                        <input type="text" class="form-control" name="name" value="{{product.name}}" />
		                                    </div>
	                                    </div>
	                                    {{forms.save_cancel_buttons()}}
	                                    
                                	</form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row {{visibility.list_products}}">
                        <div class="col-xs-12">
                        	<div class="{{visibility.add}}" id="productfilter">
		                    	{{forms.filter_contents("new-product-name")}}
		                    </div>
		                    <div class="{{visibility.add_product}}">
			                    <div class="card">
	                            	<div class="card-header">
										<div class=".col-xs-9 .col-md-7">
									    	<div class="card-title">
									        	<div class="title">Anna tuotteelle kaupan hinta</div>
											</div>
									    </div>   
									</div>
	                                <div class="card-body">
	                                	<form action="{{base_path}}/productshop/new/{{product.id}}" method="post">
		                                	<div class="form-group">
		                                
			                                    <div class="sub-title">Kauppa</div>
			                                    <div>
													  <select id="shoppriceselect" class="selectpicker" data-style="btn-info" name="shop_id">
				                  						  {% for notshop in product_not_shops %}
													      	<option value="{{notshop.shop_id}}">{{notshop.name}}</option>
													      {% endfor %}
													  </select>			                                    	
			                                    </div>
			                                    <div class="sub-title">Hinta</div>
			                                    <div>
			                                        <input type="text" class="form-control" id="new-product-price" name="price" value="" />
			                                    </div>
		                                    </div>
		                                    {{forms.save_reload_buttons()}}
	                                	</form>
	                                </div>
	                            </div>
		                    </div>
                        	<div class="panel panel-default panel-table {{visibility.add}}">
				              <div class="panel-body">
				                <table class="table table-striped table-bordered table-list" id="dev-table">
				                  <thead>
				                    <tr>
				                        <th></th>
				                        <th>Kauppa</th>
				                        <th class="narrow-column"><i class="fa fa-thumbs-o-up"></i></th>
				                        <th>Hinta</th>
				                        <th></th>
				                    </tr> 
				                  </thead>
				                  <tbody>
				                  		{% for shop_product in product_shops %}
				                          <tr>
				                            <td class="editor-column" align="center">
				                              	<button type="button" class="btn btn-success save-inline-button" data-loader="{{base_path}}/assets/img/ajax-loader.gif" data-action="{{base_path}}/shopproducts/edit/{{shop_product.shop_id}}/{{shop_product.product_id}}" data-id="{{shop_product.product_id}}"><em class="fa fa-save"></em></button>
				                            </td>
				                            <td><p class="h5"><a href="{{base_path}}/shops/shop/{{shop_product.shop_id}}" data-filter="target">{{shop_product.shop_name}}</a></p></td>
				                            <td class="narrow-column">
												{% if shop_product.is_cheapest %}
									                <p class="col-xs-12"><i class="fa fa-check-square-o" aria-hidden="true"></i></p>
									            {% else %}
									                <p class="col-xs-12"><i class="fa fa-square-o" aria-hidden="true"></i></p>
									            {% endif %}
											</td>
				                            <td><input type="text" class="price-input form-control input-lg inline-edit serialize-value" name="price" value="{{shop_product.price}}" /></td>
				                            <td align="center">
				                              	<button class="btn btn-danger remove-inline-button" type="button" data-loader="{{base_path}}/assets/img/ajax-loader.gif" data-action="{{base_path}}/shopproducts/remove/{{shop_product.shop_id}}/{{shop_product.product_id}}"><em class="fa fa-trash"></em></button>
				                            </td>
				                          </tr>
										{% endfor %}
				                	</tbody>
				                </table>
				              </div>
				            </div>
                        </div>
                        <div class="col-xs-12 {{visibility.add}}">
	                        <div class="pull-right">
	                        	{{forms.remove("#{base_path}/products/remove/#{product.id}")}}
	                        </div>
                        </div>
                    </div>
                </div>
{% endblock %}